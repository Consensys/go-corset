;; Subtract without underflow.  This requires that x >= y.
fn sub(x u16, y u16) -> (res u16) {
   var b u1
   ;;
   b,res = x - y
   ;; sanity check underflow
   if b == 0 goto exit
   fail
exit:
   return
}
